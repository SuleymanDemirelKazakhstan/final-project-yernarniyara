{% extends 'base.html' %}

{% block content %}
    <!-- Preloader -->
    <div id="page-loading-blocs-notifaction" class="page-preloader"></div>
    <!-- Preloader END -->


    <!-- Main container -->
    <div class="page-container">


        <!-- bloc-5 -->
        <div class="bloc bg-Vector-2031 tc-pale-pink l-bloc" id="bloc-5">
            <div class="container bloc-lg">
                <div class="row">
                    <div class="col">
                        <div class="row row-padding-left">
                            <div class="bloc-0-padding-top col-lg-5 border-image-login bgc-6744">
                                <img src="static/img/lazyload-ph.png" data-src="static/img/Group%20118.png" class="img-fluid mx-auto d-block img-group-118-style lazyload" alt="Component%2018" /><img src="static/img/lazyload-ph.png" data-src="static/img/Group%20137.png" class="img-fluid mx-auto d-block img-group-137-style image-login-girl lazyload" alt="Group%20137" /><img src="static/img/lazyload-ph.png" data-src="static/img/Group%20123.png" class="img-fluid mx-auto d-block img-style lazyload" alt="Group%20123" />
                                <p class="mg-md tc-5075 text-padding-login p-text-login-page">
                                    Спаси жизнь сегодня.<br>&nbsp;Сдавай кровь и получай бонусы
                                </p>
                            </div>
                            <div class="col bloc-16029-padding-top border-login-form bgc-white">
                                <h3 class="mg-md text-lg-center text-welcome-login tc-radical-red">
                                    Регистрация
                                </h3>
                                <form method="POST" action="{{ url_for('register_donor') }}" id="form_22229" data-form-type="blocs-form" novalidate data-success-msg="Успешная регистрация" data-fail-msg="Что-то не так! Попробуйте еще раз">
                                    <div>
                                        {% with messages = get_flashed_messages() %}
                                            {% if messages %}
                                                <div class="card flashes" style="align-items: center">
                                                    <div class="card-body">
                                                        {% for message in messages %}
                                                            <p style="color: #6b223e; font-weight: bold;">{{ message }}</p>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endwith %}
                                    </div>

                                    <div class="form-group">
                                        <label>
                                            Логин
                                        </label>
                                        <input name="username" type="text" id="username" class="form-control" required />
                                    </div>
                                    <div class="form-group">
                                        <label>
                                            Email<br>
                                        </label>
                                        <input name="email" type="email" id="email" class="form-control" required/>
                                    </div>
                                    <div class="form-group">
                                        <label>
                                            Пароль
                                        </label>
                                        <input name="password" type="password" id="password" class="form-control" required/>
                                    </div>

                                    <div class="form-group">
                                        <label>
                                            Повторите пароль
                                        </label>
                                        <input name="password_retype" type="password" id="passwordagain" class="form-control" required onkeyup="check_validity()"/>
                                    </div>
                                    <div id="password_doesnt_match" style="display: none">
                                        <p class="mg-md tc-5075 text-padding-login p-text-login-page">Пароли не совпадают</p>
                                    </div>
                                    <div class="text-center">
                                        <input class="bloc-button btn btn-lg btn-submit-style animated pulse-hvr btn-radical-red" type="submit" value="Зарегистрироваться">
                                    </div>
                                    <div class="row voffset">
                                        <div class="col">
                                            <p class="p-bloc-5-style">
                                                Уже есть аккаунт?
                                            </p>
                                        </div>
                                        <div class="col">
                                            <a href="{{ url_for('login') }}" class="a-btn a-block ltc-radical-red">Войти</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- Main container END -->

    <script>
        var check_validity = function() {
          if (document.getElementById('password').value ===
            document.getElementById('passwordagain').value) {
            document.getElementById('password_doesnt_match').style.display = "none";
          }
          else{
              document.getElementById('password_doesnt_match').style.display = "block";
          }
        }
    </script>

{% endblock %}